# Что такое Yay. Особенности. Использование

[18](https://pingvinus.ru/note/yay#comments)

Материал написан пользователем сайта.

Пару лет назад, когда ещё пользовался Манджаро, писал для себя материал, с целью разобраться в том, что такое **yay**: чем он отличается от привычного **pamac**, зачем он нужен, если есть **pacman** по умолчанию**,** а почему часто встречаемый **yaourt** уже не стоит использовать.

### Что такое Arch User Repository (AUR)

**AUR** — это управляемый сообществом репозиторий для пользователей Arch. AUR был создан с целью облегчения и организации процесса обмена пакетами сообществом. Он содержит описания пакетов (PKGBUILD), которые позволяют вам скомпилировать пакет из исходного кода с помощью makepkg, а затем установить его через pacman.

### Что такое Yay?

**Yay** — вспомогательный инструмент Arch Linux AUR, написанный на Go. Он поможет вам автоматически устанавливать пакеты из PKGBUILD

### Цели

**Yay** основан на дизайне _yaourt_, _apacman_ и _pacaur._ Он разработан с учетом следующих целей:  

- Предоставление интерфейса для _Pacman_
- Интерактивный поиск/установка в формате _Yaourt_
- Минимальные зависимости
- Минимизация вводимых пользователем данных
- Знать, когда пакеты git должны быть обновлены

### Особенности

- Расширенное выполнение зависимостей
- Загрузить PKGBUILD из ABS (Arch Build System) или AUR
- Допоkнение команд AUR клавишей Tab
- Вопрос к пользователю перед вводом всех входных данных (перед запуском построений)
- Сужение круга поиска (_yay linux header_ сначала выполняет поиск linux, а затем сужается до _header_)
- Поиск подходящих поставщиков пакетов и разрешение выбора
- Удаление зависимостей в конце процесса построения
- Запуск без выбора источника PKGBUILD

- Обеспечивает интерфейс для pacman, а также не имеет почти никаких зависимостей
- Обеспечивает функцию поиска yaourt и значительно минимизирует вход пользователя
- Еще одна заметная особенность — вы можете выбрать, какое приложение установить или обновить
- Кроме того, он поддерживает завершение вкладки AUR, поэтому просто введите несколько букв пакета AUR и нажмите Enter, чтобы завершить имя
- **yay** обеспечивает заполнение таблицы AUR и загружает PKGBUILD из ABS или AUR. Бинарный файл не имеет никаких дополнительных зависимостей
- Предоставляет расширенное обеспечение зависимостей и удаляет все зависимости make по окончанию процесса сборки  
    
- Поддерживает цветной вывод при включении опции Color в файле _/etc/pacman.conf_  
    Цветной вывод может быть активирован для поддержки только пакета AUR или только пакетов из оф. репозитория.

### Установка

При миграции с другого помощника AUR можно просто установить Yay с этим помощником

Альтернативно, первоначальная установка Yay может быть выполнена клонированием PKGBUILD и построением с помощью makepkg:

Перед началом работы убедитесь, что установлена группа пакетов base-devel.

```shell
sudo pacman -S --needed git base-devel
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si
```

### . . . далее . . .

- sudo pacman -S git

- git clone https://aur.archlinux.org/yay.git

- cd yay

- makepkg -si

Так же возможно установить через _pamac_ или командой    "_sudo pacman -S yay"_

### Поддержка

Вся поддержка, связанная с **Yay**, должна запрашиваться через GitHub. Поскольку Yay официально не поддерживается Arch Linux, не следует искать поддержку на форумах, комментариях AUR или других официальных каналах.  
О поврежденном пакете AUR следует сообщить как о комментарии на странице пакета AUR. Пакет может считаться поврежденным, только если его не удалось построить с помощью makepkg. Отчеты должны составляться с использованием makepkg и включать полную информацию, а также любую другую соответствующую информацию. Никогда не создавайте отчеты с помощью Yay или других внешних инструментов.

### Примеры пользовательских операций

_yay <Search Term>_                       Показать меню выбора установки пакета

_yay -Ps_                                            Печать статистики системы

_yay -Yc_                                            Очистить ненужные зависимости.

_yay -G <AUR Package>_               Загрузить PKGBUILD из ABS или AUR.

_yay -Y --gendb_                                Создание базы данных пакетов разработки, используемой для обновления разработки

_yay -Syu --devel --timeupdate_      Выполнение обновления системы, а также проверка наличия обновлений пакета разработки и использование времени изменения PKGBUILD (не номер версии) для определения обновления.

### Использование

Как и любые другие помощники AUR, типичный способ установки пакета из AUR:

                       _yay -S <package-name-here>_

Пример:  _yay -S mplayer_

Чтобы найти пакет в AUR и официальных репозиториях, используйте флаг -Ss, как показано ниже (пример)  
   
                       _yay -Ss mplayer_

Чтобы обновить все пакеты из AUR и официальных репозиториев, используйте флаг -Syu.

                       _yay -Syu_

Хорошей особенностью **yay** является то, что если вы передаете эту команду без операции, тогда отобразится меню выбора пакета.

                       _yay mplayer_                       _. . ._ _(вывод) . .  
                       . . . (вывод) . ._ 

==> Пакеты для установки (пример: 1 2 3, 1-3 или ^4)

Тут можно выбрать пакеты для установки или указать необходимые.

Чтобы вывести список пакетов, которые необходимо обновить, выполните:

                        _yay -Pu_

Чтобы удалить нежелательные зависимости, используйте флаг -Yc, как показано ниже.

                        _yay -Yc_

Более подробную информацию о yay см. В справочных страницах.

                        _man yay_    Собранные пакеты хранятся по адресу ~/home/(имя_пользователя)/.cache/yay