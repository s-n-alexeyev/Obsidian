Всем доброго времени суток!

Предлагаю утилиту для поддержки Xray на роутерах Keenetic — Xkeen.  
Весь код написан на чистом shell и открыт на [GitHub](https://github.com/Skrill0/XKeen).  
  
Пост обновляемый. Всегда актуальная версия на форуме [Keenetic](https://forum.keenetic.com/topic/16899-xray-%D0%BD%D0%B0-entware-xkeen/)

![preview](https://habrastorage.org/r/w1560/getpro/habr/upload_files/384/828/5f7/3848285f710f641b16bc67bf07721983.png "preview")

preview

Что такое Xray

Xray / v2ray — очень гибкая утилита для проксирования и защиты соединения, созданная для обхода GFW (Китайского Файрвола).  
С помощью нее возможно обойти даже блокировки Ирана. Полагаю, что в РФ этого решения хватит на приличное время.

- Решение не будет работать без глубокой настройки в Туркменистане
    
- Решение не будет работать в КНДР.  
    Там нет интернета в привычном нам понимании
    
- Решение используется не только для обхода блокировок, но и защиты соединения
    

Основные возможности Xray

- Выборочная работа с [DNS](https://xtls.github.io/en/config/dns.html#dns-server) по современным протоколам
    
    - [DNS over TLS](https://en.wikipedia.org/wiki/DNS_over_TLS)
        
    - [DNS over HTTPS](https://en.wikipedia.org/wiki/DNS_over_HTTPS)
        
    - [DNS over Quic](https://www.ietf.org/rfc/rfc9250.html)
        
- Создание собственного DNS — [FakeDNS](https://xtls.github.io/en/config/fakedns.html#fakednsobject)
    
- Поддержка обратного проксирования — [Reverse Proxy](https://xtls.github.io/en/config/reverse.html)
    
- Настройка [политик](https://xtls.github.io/en/config/policy.html) для разных пользователей
    
- [Маршрутизация](https://xtls.github.io/en/config/routing.html#routingobject) поддерживающая
    
    - [Geoip](https://habr.com/ru/companies/smart_soft/articles/711846/)
        
    - Geosite — то же самое, что и Geoip, но с доменами.
        
    - [Регулярные выражения](https://habr.com/ru/articles/545150/)
        
    - [CIDR](https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing)
        
    - Точные совпадения
        
    - Частичные совпадения
        
    - Поддомены
        
- Сегментация по правилам и управление входящим трафиком по протоколам
    
    - [Dokodemo-door](https://xtls.github.io/en/config/inbounds/dokodemo.html)
        
    - [HTTP](https://xtls.github.io/en/config/inbounds/http.html#inboundconfigurationobject)
        
    - [ShadowSocks](https://xtls.github.io/en/config/inbounds/shadowsocks.html#inboundconfigurationobject)
        
    - [Socks](https://xtls.github.io/en/config/inbounds/socks.html#inboundconfigurationobject)
        
    - [Trojan](https://xtls.github.io/en/config/inbounds/trojan.html#inboundconfigurationobject)
        
    - [VLESS](https://xtls.github.io/en/config/inbounds/vless.html#inboundconfigurationobject)
        
    - [VMess](https://xtls.github.io/en/config/inbounds/vmess.html#inboundconfigurationobject)
        
- Сегментация по правилам и управление исходящим трафиком по протоколам
    
    - [Blackhole](https://xtls.github.io/en/config/outbounds/blackhole.html)
        
    - [DNS](https://xtls.github.io/en/config/outbounds/dns.html#outboundconfigurationobject)
        
    - [Freedom](https://xtls.github.io/en/config/outbounds/freedom.html#outboundconfigurationobject)
        
    - [HTTP](https://xtls.github.io/en/config/outbounds/http.html#outboundconfigurationobject)
        
    - [ShadowSocks](https://xtls.github.io/en/config/outbounds/shadowsocks.html#outboundconfigurationobject)
        
    - [Socks](https://xtls.github.io/en/config/outbounds/socks.html#outboundconfigurationobject)
        
    - [Trojan](https://xtls.github.io/en/config/outbounds/trojan.html#outboundconfigurationobject)
        
    - [VLESS](https://xtls.github.io/en/config/outbounds/vless.html#outboundconfigurationobject)
        
    - [VMess](https://xtls.github.io/en/config/outbounds/vmess.html#outboundconfigurationobject)
        
    - [Wireguard](https://xtls.github.io/en/config/outbounds/wireguard.html#outboundconfigurationobject)
        
- Использование современных транспортных протоколов
    
    - [gRPC](https://xtls.github.io/en/config/transports/grpc.html)
        
    - [HTTP.2](https://xtls.github.io/en/config/transports/h2.html)
        
    - [mKCP](https://xtls.github.io/en/config/transports/mkcp.html)
        
    - [Quic](https://xtls.github.io/en/config/transports/quic.html#headerobject)
        
    - [TCP](https://xtls.github.io/en/config/transports/tcp.html#tcpobject)
        
    - [Websocket](https://xtls.github.io/en/config/transports/websocket.html)
        
- Обеспечение защиты транспорта
    

Основные возможности Xkeen

  

  

  

- - [](https://github.com/v2fly/domain-list-community/)
        
    - [](https://github.com/schebotar/antifilter-domain)
        
    - [](https://github.com/warexify/antizapret-xray)
        
- - [](https://github.com/Loyalsoldier/v2ray-rules-dat)
        
    - [](https://github.com/schebotar/antifilter)
        

Ключи запуска Xkeen

  

  
  
  
  

  
  
  
  
  

  
  
  

  
  
  
  
  

  
  
  
  
  
  

  
  

  
  

  
  
  

  
  
  

  
  
  

  
  
  
  
  

  
  
  
  

  
  

Список протестированных устройств

  
  

  

## Способ установки

```
opkg install curl tar
curl -s -L https://github.com/Skrill0/XKeen/releases/latest/download/xkeen.tar --output xkeen.tar && tar -xvf xkeen.tar -C /opt/sbin --overwrite > /dev/null && rm xkeen.tar
xkeen -i
```

1. Выбираем интересующие Вас GeoIP и GeoSite.  
    Можно установить все сразу.
    
2. Устанавливаем время автоматического обновления.
    
3. Готово. Вы великолепны.  
    Можете настраивать конфигурации Xray под свои нужды.
    
    Конфигурационные файлы находятся по пути «/opt/etc/xray/configs/»  
    Некоторые имеют детальное описание. Его можно удалить.
    

Как выглядит установка в PuTTy

![Preview install](https://habrastorage.org/getpro/habr/upload_files/7cf/fba/654/7cffba6546b46a33877df34bb0dc7a7d.gif "Preview install")

Полезные ссылки для настройки

[](https://github.com/XTLS/Xray-core)  
[](https://t.me/projectXray)  

[](https://xtls.github.io/en/document/#download-and-install)  
[](https://xtls.github.io/en/config/)  
[](https://xtls.github.io/en/document/level-2/)

[](https://habr.com/ru/articles/735536/)  
[](https://habr.com/ru/articles/731608/)

[](https://habr.com/ru/articles/727868/)

- [](https://github.com/XTLS/Xray-examples)
    
- [](https://github.com/chika0801/Xray-examples)
    
- [](https://github.com/lxhao61/integrated-examples)
    

Полезные категории GeoSite

-   
    

-   
    

-   
    

-   
    

-   
    

Полезные категории GeoIP

-   
    

-   
    

Базовый способ настройки ручной маршрутизации

1.   
    
2.   
      
    
3.   
    
4.   
    

При использовании встроенного proxy-клиента keenetic

1.   
    [](https://t.me/Leshiyart)
    

4.   
    [](https://t.me/Leshiyart)  
    
5. [](https://t.me/Leshiyart)
    

![Настройки маршрута в Web роутера](https://habrastorage.org/r/w1560/getpro/habr/upload_files/212/78a/f42/21278af423ae4e5e17e7d070821b0ecb.png "Настройки маршрута в Web роутера")

  

  
  

Сохраняем комфорт даже при мобильной сети

  
  
  
  
[](https://help.keenetic.com/hc/ru/articles/360017022999-VPN-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80-IKEv2)  
[](https://help.keenetic.com/hc/ru/articles/360000594640-VPN-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80-SSTP)[](https://forum.keenetic.com/profile/69772-alexey77/)

Способ удаления

  

Известные проблемы

Если не работает автозапуск Xray при включении роутера или автоматические обновления

![Сценарий initrc](https://habrastorage.org/r/w1560/getpro/habr/upload_files/0f8/32d/2ab/0f832d2ab869b65e86c07268a06949ee.png "Сценарий initrc")

Обновления

4.   
    

Карта развития проекта

3. [](https://forum.keenetic.com/topic/16899-xray-%D0%BD%D0%B0-entware-xkeen/)
    

Благодарности

- [](https://forum.keenetic.com/profile/5580-vasek00/)
    
- [](https://forum.keenetic.com/profile/7002-zyxmon/)
    
- [](https://forum.keenetic.com/profile/16836-avn/)
    
- [](https://forum.keenetic.com/profile/69772-alexey77/)
    
- [](https://forum.keenetic.com/profile/5650-keva/)
    
- [](https://forum.keenetic.com/profile/73861-adk/)
    
- [](https://habr.com/ru/users/MiraclePtr/)
    
- [](https://t.me/AnLeAl8)
    
- [](https://t.me/dchusovitin)
    
- [](https://t.me/Leshiyart)
    

Если Вам нужна помощь

[](https://forum.keenetic.com/)  

-   
    

Приглашаю Всех в теме делиться своими наблюдениями и решениями связанных с Xray и его настройкой.  
Все решения будут вынесены в шапку темы и, по возможности, реализованы в утилите в перспективе.

Автор не несет никакой ответственности и не гарантирует поддержку

Если хотите купить автору кофе

  
[](https://www.tinkoff.ru/rm/krasilnikova.alina18/G4Z9433893)  
  
  

  
[](http://qiwi.com/n/21BUNNY21)  
  
  

  
[](https://yoomoney.ru/to/410018052017678)  
  
  

  

  

  

Теги:

- [keenetic](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[keenetic])
- [xray](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[xray])
- [v2ray](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[v2ray])
- [shadowsocks](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[shadowsocks])
- [wireguard](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[wireguard])
- [vpn](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[vpn])
- [обход блокировок](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[%D0%BE%D0%B1%D1%85%D0%BE%D0%B4+%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BE%D0%BA])
- [reality](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[reality])
- [proxy](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[proxy])
- [v2fly](https://habr.com/ru/search/?target_type=posts&order=relevance&q=[v2fly])

Хабы:

- [Информационная безопасность](https://habr.com/ru/hubs/infosecurity/)
- [Системное администрирование](https://habr.com/ru/hubs/sys_admin/)
- [Сетевые технологии](https://habr.com/ru/hubs/network_technologies/)
- [Сетевое оборудование](https://habr.com/ru/hubs/network_hardware/)

+30

211

[31](https://habr.com/ru/articles/760052/comments/)

### Редакторский дайджест

Присылаем лучшие статьи раз в месяц

[

![](https://habrastorage.org/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/)

17

Карма

-2

Рейтинг

[@Skride](https://habr.com/ru/users/Skride/)

Пользователь

Подписаться

## Комментарии 31

[

![](https://assets.habr.com/habr-web/img/avatars/051.png)

](https://habr.com/ru/users/ritorichesky_echpochmak/ "ritorichesky_echpochmak")[ritorichesky_echpochmak](https://habr.com/ru/users/ritorichesky_echpochmak/)[10 сен 2023 в 18:54](https://habr.com/ru/articles/760052/#comment_25949564)

Спасибо за статью, но... а кинетик уже умеет DNS over QUIC?

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/ "Skride")[Skride](https://habr.com/ru/users/Skride/)[10 сен 2023 в 21:41](https://habr.com/ru/articles/760052/#comment_25950070)

Здравствуйте!  
Сам Keenetic еще не умеет из прошивки (только DoT/ DoH), но с помощью Xray настроить возможно.

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/964/f83/d18/964f83d188fdff2fbf7217a89072b1d6.jpg)

](https://habr.com/ru/users/dartraiden/ "dartraiden")[dartraiden](https://habr.com/ru/users/dartraiden/)[11 сен 2023 в 22:54](https://habr.com/ru/articles/760052/#comment_25953984)

А толку, на многих провайдерах QUIC блокируется на зарубежные направления.

Ответить

[

![](https://assets.habr.com/habr-web/img/avatars/035.png)

](https://habr.com/ru/users/vasek00/ "vasek00")[vasek00](https://habr.com/ru/users/vasek00/)[15 сен 2023 в 12:11](https://habr.com/ru/articles/760052/#comment_25966900)

quic пробовал в AdguardHome

upstream_dns:  
- tls://1dot1dot1dot1.cloudflare-dns.com  
- tls://dns.quad9.net  
- tls://dns.google.com  
- '#quic://c....d.dns.nextdns.io' - сервис nextdns.io  
- '#quic://8......d.adguard-dns.com' - сервис adguard-dns.com  
- '#quic://puredns.org'

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/c75/527/d46/c75527d460a18d6b6af70717ffc95660.jpg)

](https://habr.com/ru/users/Dmitry_Dor/ "Dmitry_Dor")[Dmitry_Dor](https://habr.com/ru/users/Dmitry_Dor/)[10 сен 2023 в 22:39](https://habr.com/ru/articles/760052/#comment_25950192)

Спасибо за статью!

> утилиту для поддержки Xray на роутерах Keenetic — Xkeen.

> Тестировался на aarch64, но гипотетически должен работать и на mips, mipsel.

Можно уточнить, будет Xkeen работать в т.ч и на старых-добрых «белых» Keenetic и Keenetic Lite ([они вроде тоже на MIPS](https://www.ixbt.com/comm/zyxel-keenetic-lite.shtml))?  
Если да, то какая требуется версия прошивки?

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/ "Skride")[Skride](https://habr.com/ru/users/Skride/)[10 сен 2023 в 22:55](https://habr.com/ru/articles/760052/#comment_25950224)

Здравствуйте.  
Если Entware стоит — гипотетически должно заработать. Тестов не было.  
В случае установки, пожалуйста, отпишитесь о результате)

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/c75/527/d46/c75527d460a18d6b6af70717ffc95660.jpg)

](https://habr.com/ru/users/Dmitry_Dor/ "Dmitry_Dor")[Dmitry_Dor](https://habr.com/ru/users/Dmitry_Dor/)[10 сен 2023 в 23:14](https://habr.com/ru/articles/760052/#comment_25950278)

Спасибо за ответ.  
Дал ссылку на вашу статью на 4pda:  
— [ZyXEL / ZyXEL Keenetic и ZyXEL Keenetic Giga](https://4pda.to/forum/index.php?showtopic=443906&view=findpost&p=124930562)  
может там кто-нибудь попробует, тогда напишу (или он сам напишет).  
Ну а я ~~не настоящий сварщик~~ не IT-шник, и для меня это увы, сложновато (мне пошаговая инструкция требуется)

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/ "Skride")[Skride](https://habr.com/ru/users/Skride/)[10 сен 2023 в 23:22](https://habr.com/ru/articles/760052/#comment_25950298)

Благодарю.  
Если решитесь попытаться установить — можете обратиться в личные сообщения. Попробую помочь персонально)

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/e2d/823/863/e2d823863f478b98f6f72f1d542e4cff.jpg)

](https://habr.com/ru/users/kujoro/ "kujoro")[kujoro](https://habr.com/ru/users/kujoro/)[10 сен 2023 в 22:57](https://habr.com/ru/articles/760052/#comment_25950230)

что под спойлерами Полезные ссылки для настройки \ Полезные категории GeoSite \ Полезные категории GeoIP? у меня пустота

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/ "Skride")[Skride](https://habr.com/ru/users/Skride/)[10 сен 2023 в 22:58](https://habr.com/ru/articles/760052/#comment_25950234)

Здравствуйте.  
Обновил информацию. Спасибо за наблюдательность)

Ответить

[

![](https://assets.habr.com/habr-web/img/avatars/054.png)

](https://habr.com/ru/users/dr_clinker/ "dr_clinker")[dr_clinker](https://habr.com/ru/users/dr_clinker/)[11 сен 2023 в 13:40](https://habr.com/ru/articles/760052/#comment_25952054)

Отличная статья, учитывая возможности настройки у кинетиков sstp соединения даже без белого ip интересно, возможно ли настроить автоматический проброс трафика конкретного хоста дальше через Xray на выделенный сервер. Так как добрые мобильные операторы yota и мегафон заблочили протокол wireguard на мобильных устройствах (по крайней мере у меня и всех моих знакомых в регионе, однако знаю, что есть исключения), а с sstp до моего кинетика проблем нет, ищу наименее болезненные пути настройки. Натыкался на [вот эту статью](https://habr.com/ru/articles/731608/), но к сожалению, там возникли проблемы с tls, траблшутинг пока ни к чему не привёл. Если есть опыт маскировки трафика и/или решении проблем был бы рад обменяться опытом

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/ "Skride")[Skride](https://habr.com/ru/users/Skride/)[11 сен 2023 в 13:42](https://habr.com/ru/articles/760052/#comment_25952058)

Здравствуйте!  
Уточните, пожалуйста, под «автоматическим пробросом трафика конкретного хоста на выделенный сервер» Вы имеете ввиду создание портала?  
То есть, когда подключение к основному серверу идет через промежуточный?  
  
Если да, то Xray предоставляет такую возможность с помощью [обратного проксирования](https://xtls.github.io/en/config/reverse.html)

Ответить

[

![](https://assets.habr.com/habr-web/img/avatars/054.png)

](https://habr.com/ru/users/dr_clinker/ "dr_clinker")[dr_clinker](https://habr.com/ru/users/dr_clinker/)[13 сен 2023 в 10:53](https://habr.com/ru/articles/760052/#comment_25958722)

Спасибо, попробую. Выглядит пока как будто это именно то, что нужно!

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/851/550/602/8515506023d9b4e97289b560f941a584.jpg)

](https://habr.com/ru/users/gosoo/ "gosoo")[gosoo](https://habr.com/ru/users/gosoo/)[11 сен 2023 в 20:00](https://habr.com/ru/articles/760052/#comment_25953506)

Выглядит не просто, нужно курить мануалы для натсройки.

Ответить

[

![](https://assets.habr.com/habr-web/img/avatars/067.png)

](https://habr.com/ru/users/virusaga/ "virusaga")[virusaga](https://habr.com/ru/users/virusaga/)[12 сен 2023 в 09:02](https://habr.com/ru/articles/760052/#comment_25954736)

ДД!А на keenetic lite такое возможно?

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/ "Skride")[Skride](https://habr.com/ru/users/Skride/)[12 сен 2023 в 11:37](https://habr.com/ru/articles/760052/#comment_25954976)

Доброго Вам утра!  
К сожалению, поддержка только на роутерах с USB, т.к. утилита завязана на Entware.

Ответить

[

![](https://assets.habr.com/habr-web/img/avatars/137.png)

](https://habr.com/ru/users/volanDeMortal/ "volanDeMortal")[volanDeMortal](https://habr.com/ru/users/volanDeMortal/)[12 сен 2023 в 11:57](https://habr.com/ru/articles/760052/#comment_25955036)

Ещё бы это дело пустить через cloudflare proxy

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/ "Skride")[Skride](https://habr.com/ru/users/Skride/)[12 сен 2023 в 11:58](https://habr.com/ru/articles/760052/#comment_25955042)

Доброго утра)  
Можно и через cloudflare)

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/ca6/2f4/f83/ca62f4f83914f2ef06a9c76b9d0b027e.jpg)

](https://habr.com/ru/users/emoxam/ "emoxam")[emoxam](https://habr.com/ru/users/emoxam/)[12 сен 2023 в 12:45](https://habr.com/ru/articles/760052/#comment_25955184)

Причём тут Туркменистан? Не понял

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/ "Skride")[Skride](https://habr.com/ru/users/Skride/)[12 сен 2023 в 13:10](https://habr.com/ru/articles/760052/#comment_25955248)

Здравствуйте.  
В данный момент Туркменистан одна из худших стран в плане интернет-свобод. Его можно ставить в ряд с Китаем и Ираном.

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/ca6/2f4/f83/ca62f4f83914f2ef06a9c76b9d0b027e.jpg)

](https://habr.com/ru/users/emoxam/ "emoxam")[emoxam](https://habr.com/ru/users/emoxam/)[12 сен 2023 в 13:33](https://habr.com/ru/articles/760052/#comment_25955324)

А зачем проводить настройкув Туркменистане?

- Решение не будет работать без глубокой настройки в Туркменистане
    

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/09d/25f/04e/09d25f04e0cf120bab6f64440eb35633.png)

](https://habr.com/ru/users/Skride/ "Skride")[Skride](https://habr.com/ru/users/Skride/)[12 сен 2023 в 14:22](https://habr.com/ru/articles/760052/#comment_25955514)

Были товарищи, которые интересовались подобной возможностью. Счел нужным упомянуть, что сделать возможно, пусть и сложно.

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/ca6/2f4/f83/ca62f4f83914f2ef06a9c76b9d0b027e.jpg)

](https://habr.com/ru/users/emoxam/ "emoxam")[emoxam](https://habr.com/ru/users/emoxam/)[12 сен 2023 в 14:44](https://habr.com/ru/articles/760052/#comment_25955588)

Понял, а то я было подумал что обязательно составляющаяив Туркменистане!)

Ответить

[

![](https://assets.habr.com/habr-web/img/avatars/051.png)

](https://habr.com/ru/users/ritorichesky_echpochmak/ "ritorichesky_echpochmak")[ritorichesky_echpochmak](https://habr.com/ru/users/ritorichesky_echpochmak/)[13 сен 2023 в 19:05](https://habr.com/ru/articles/760052/#comment_25960676)

Это предварительные лас... ждите скоро и здесь)

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/aff/615/8bf/aff6158bfe6c3fb40723f4b05ea49f56.jpg)

](https://habr.com/ru/users/ighost/ "ighost")[ighost](https://habr.com/ru/users/ighost/)[14 сен 2023 в 11:21](https://habr.com/ru/articles/760052/#comment_25962714)

интересно, а как справляется железо роутера с xray? однажды настраивал подключение wireguard на Omni, трафик в 30 Мбит нагружал процессор почти на 100%.

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/964/f83/d18/964f83d188fdff2fbf7217a89072b1d6.jpg)

](https://habr.com/ru/users/dartraiden/ "dartraiden")[dartraiden](https://habr.com/ru/users/dartraiden/)[14 сен 2023 в 14:59](https://habr.com/ru/articles/760052/#comment_25963740)

На MT7621 нагрузка заметна. На моделях с ARM-процессорами должно быть полегче.

Ответить

[

![](https://assets.habr.com/habr-web/img/avatars/177.png)

](https://habr.com/ru/users/Andy_U/ "Andy_U")[Andy_U](https://habr.com/ru/users/Andy_U/)[14 сен 2023 в 17:05](https://habr.com/ru/articles/760052/#comment_25964262)

А что значит, заметна? А то я было обрадовался, что сейчас в Финляндии на Hero (KN-1011) потренируюсь, а потом в СПб (GIGA KN-1011) и на даче в Рощино (Hopper KN-3810) повторю, но кажется, я поторопился. Покупать отдельный Keenetic и таскать его туда-сюда не хочется. И непонятно, будет ли обсуждаемый софт работать, когда Keenetic будет в режиме точки доступа.

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/964/f83/d18/964f83d188fdff2fbf7217a89072b1d6.jpg)

](https://habr.com/ru/users/dartraiden/ "dartraiden")[dartraiden](https://habr.com/ru/users/dartraiden/)[14 сен 2023 в 19:35](https://habr.com/ru/articles/760052/#comment_25965022)

> xxxxx, [12.09.2023 1:18]  
> Жрет конечно это поболее чем шадоусокс с обфс.  
> Мобильный канал, iperf3 запустил в 4 потока - скорость около 30-35мбит, мт7621 нагружен на 93-95%, а прокси на втором роутере процентов 15-20
> 
> xxxxx, [12.09.2023 1:18]  
> То есть прокси и клиентХрей на разных роутерах
> 
> xxxxx, [12.09.2023 1:18]  
> При этом шадоусокс разогнался до 75-80 мбит, потребляя 55-60% проца

Ответить

[

![](https://assets.habr.com/habr-web/img/avatars/035.png)

](https://habr.com/ru/users/vasek00/ "vasek00")[vasek00](https://habr.com/ru/users/vasek00/)[15 сен 2023 в 12:17](https://habr.com/ru/articles/760052/#comment_25966918)

[https://guide.v2fly.org/en_US/app/benchmark.html#vmess-performance](https://guide.v2fly.org/en_US/app/benchmark.html#vmess-performance)

[V2Ray Beginner's Guide](https://guide.v2fly.org/en_US/) сравнение с Shadowsocks performance

Ответить

[

![](https://assets.habr.com/habr-web/img/avatars/101.png)

](https://habr.com/ru/users/SagaNuren/ "SagaNuren")[SagaNuren](https://habr.com/ru/users/SagaNuren/)[21 сен 2023 в 11:23](https://habr.com/ru/articles/760052/#comment_25984614)

Как бы такое прикрутить к роутерам ASUS? Их много на руках. И не на всех актуальных моделях есть OpenWRT.

Ответить

[

![](https://habrastorage.org/r/w48/getpro/habr/avatars/ac4/85f/27d/ac485f27df43d827a834ea26b893507f.jpg)

](https://habr.com/ru/users/entze/ "entze")[entze](https://habr.com/ru/users/entze/)[5 окт 2023 в 16:17](https://habr.com/ru/articles/760052/#comment_26031004)

В одном из постов у [@MiraclePtr](https://habr.com/users/miracleptr)была ссылка, но на отдельную прошивку на китайском. Теоретически, можно было бы ставить на ASUS Merlin как entware пакеты, но как я понимаю маинтейнеры entware ~~твари~~ не хотят добавлять пакеты.  
У Astrill есть своя панель для ASUS + Stealth протоколы (вроде успешно живущие в CN) но ценник у Astrill просто негуманный да еще и клиентское ПО очень убогое и Stealth не поддерживающее.

Может быть есть entware вне официального repo либо есть способ собрать пакеты для ARM Асусов и настроить.

Ответить